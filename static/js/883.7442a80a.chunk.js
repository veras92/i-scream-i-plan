"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[883],{5883:function(e,n,r){r.r(n),r.d(n,{default:function(){return J}});var t,a,i,o,l,s,d=r(1413),c=r(5861),p=r(9439),u=r(4687),m=r.n(u),h=r(8627),f=r(3602),x=r(887),g=r(4695),y=r(5655),b=r(6727),v=b.Ry().shape({name:b.Z_().required("This field is required").matches(y.cS,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").max(16,"Name may contain only 16 characters"),phone:b.Z_().matches(y.Oj,{message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",excludeEmptyString:!0}),birthday:b.hT("Invalid date format"),skype:b.Z_().max(16,"Skype may contain only 16 characters"),email:b.Z_().email("Invalid email format").required("This field is required"),userImgUrl:b.nK()}),Z=function(e){var n=e.getFullYear(),r=e.getMonth(),t=e.getDate();return"".concat(n,"-").concat((r+1).toString().padStart(2,"0"),"-").concat(t.toString().padStart(2,"0"))},j=r(5273),w=[{inputName:"name",type:"text",id:(0,j.x0)(),label:"User Name",required:!0,placeholder:"Enter your name"},{inputName:"phone",type:"tel",id:(0,j.x0)(),label:"Phone",required:!1,placeholder:"Enter phone"},{inputName:"birthday",type:"date",id:(0,j.x0)(),label:"Birthday",required:!1,placeholder:"DD/MM/YYYY"},{inputName:"skype",type:"string",id:(0,j.x0)(),label:"Skype",required:!1,placeholder:"Enter skype"},{inputName:"email",type:"email",id:(0,j.x0)(),label:"Email",required:!0,placeholder:"Enter email"}],k={inputName:"userImgUrl",type:"file",id:(0,j.x0)(),label:"",required:!1,placeholder:""},I=r(885),S=r(168),N=r(4709),F=N.Z.svg(t||(t=(0,S.Z)(["\n  fill: transparent;\n  stroke: var(--main-blue-color);\n"]))),U=N.Z.label(a||(a=(0,S.Z)(["\n  position: relative;\n  display: block;\n  width: 124px;\n  height: 124px;\n  margin-bottom: 20px;\n"]))),q=N.Z.input(i||(i=(0,S.Z)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  border: 0;\n  padding: 0;\n\n  white-space: nowrap;\n  clip-path: inset(100%);\n  clip: rect(0 0 0 0);\n  overflow: hidden;\n"]))),z=r(5970),A=r(184),C=function(e){var n=e.inputName,r=e.id,t=e.type,a=e.userName,i=e.register,o=e.currentAvatarUrl,l=e.setCurrentAvatarUrl,s=e.errors;return(0,A.jsxs)("div",{children:[(0,A.jsx)(U,{htmlFor:r,children:o?(0,A.jsx)("img",{src:o,alt:"user_photo"}):(0,A.jsx)("p",{children:(0,A.jsx)(F,{children:(0,A.jsx)("use",{href:I.Z+"#icon-user-check-01"})})})}),(0,A.jsx)(q,(0,d.Z)((0,d.Z)({id:r},i(n)),{},{type:t,onChange:function(e){return function(e,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){n(r.result)}}(e.target.files[0],l),e}})),(0,A.jsx)(z.B,{errors:s,name:"userImgUrl"}),(0,A.jsx)("h3",{children:a}),(0,A.jsx)("p",{children:"User"})]})},M=r(5541),E=r(2791),_=r(9513),B=r.n(_),D=(r(8639),(0,N.Z)(B())(o||(o=(0,S.Z)([""])))),X=N.Z.label(l||(l=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n\n  font-family: 'Inter';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n\n  color: #111111;\n"]))),Y=N.Z.input(s||(s=(0,S.Z)(["\n  background: #ffffff;\n  outline: none;\n  border: 1px solid rgba(220, 227, 229, 0.6);\n  border-radius: 8px;\n\n  padding: 0.875rem;\n\n  width: 100%;\n\n  &::placeholder {\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 18px;\n\n    color: #dce3e5;\n  }\n"]))),P=function(e){var n=e.control,r=e.inputName,t=e.label,a=e.id,i=e.placeholder,o=e.errors;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(X,{htmlFor:a,children:t}),(0,A.jsx)(x.Qr,{control:n,name:r,render:function(e){var n=e.field,r=n.onChange,t=n.onBlur,o=n.value;return(0,A.jsx)(D,{id:a,placeholderText:i,onChange:r,onBlur:t,selected:o,dateFormat:"dd/MM/yyyy",customInput:(0,A.jsx)(Y,{})})}}),(0,A.jsx)(z.B,{errors:o,name:r})]})},R=r(4814),T=r(3216),$=new Date,L=function(){var e=(0,h.a)(),n=e.name,r=e.email,t=e.phone,a=e.skype,i=e.birthday,o=e.userImgUrl,l=(0,E.useState)(o),s=(0,p.Z)(l,2),u=s[0],y=s[1],b=(0,f.ec)(),j=(0,p.Z)(b,2),I=j[0],S=j[1].isLoading,N=(0,x.cI)({resolver:(0,g.X)(v),defaultValues:{name:n,email:r,phone:t||"",birthday:i?(0,T.default)("2023-04-15","yyyy-MM-dd",$):$,skype:a||"",userImgUrl:o||""}}),F=N.register,U=N.control,q=N.handleSubmit,z=N.formState,_=z.errors,B=z.isDirty,D=function(){var e=(0,c.Z)(m().mark((function e(n){var r,t,a,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Z(n.birthday)===Z($)?null:Z(n.birthday),t=""===n.userImgUrl?null:u,a=""===n.phone?null:Number(n.phone),i=""===n.skype?null:n.skype,o=(0,d.Z)((0,d.Z)({},n),{},{phone:a,skype:i,birthday:r,userImgUrl:t}),e.prev=5,e.next=8,I(o).unwrap();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),413===e.t0.status&&alert("the image is too large");case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,A.jsxs)("form",{onSubmit:q(D),autoComplete:"false",children:[(0,A.jsx)(C,(0,d.Z)({userName:n,errors:_,register:F,currentAvatarUrl:u,setCurrentAvatarUrl:y},k)),(0,A.jsx)("div",{children:w.map((function(e){return"date"!==e.type?(0,A.jsx)(M.M,(0,d.Z)((0,d.Z)({},e),{},{register:F,errors:_}),e.id):(0,A.jsx)(P,(0,d.Z)((0,d.Z)({},e),{},{control:U,errors:_}),e.id)}))}),(0,A.jsx)(R.z,{type:"submit",function:"save",disabled:S||o===u&&!B,children:"Save changes"})]})},O=r(4270);function J(){return(0,A.jsxs)("div",{children:[(0,A.jsx)(O.q,{children:(0,A.jsx)("title",{children:"Account"})}),(0,A.jsx)(L,{})]})}},5541:function(e,n,r){r.d(n,{M:function(){return u}});var t,a,i=r(1413),o=r(5970),l=r(168),s=r(4709),d=s.Z.label(t||(t=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n\n  font-family: 'Inter';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n\n  color: #111111;\n"]))),c=s.Z.input(a||(a=(0,l.Z)(["\n  background: #FFFFFF;\n  outline: none;\n  border: 1px solid rgba(220, 227, 229, 0.6);\n  border-radius: 8px;\n\n  padding: 0.875rem;\n\n  width: 100%;\n\n  &::placeholder {\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 18px;\n\n    color: #DCE3E5;\n  }\n"]))),p=r(184),u=function(e){var n=e.id,r=e.inputName,t=e.type,a=e.placeholder,l=e.label,s=e.register,u=e.required,m=e.errors;return(0,p.jsxs)("div",{children:[(0,p.jsx)(d,{htmlFor:n,children:l}),(0,p.jsx)(c,(0,i.Z)({id:n,type:t,placeholder:a},s(r,{required:u}))),(0,p.jsx)(o.B,{errors:m,name:r})]})}},4814:function(e,n,r){r.d(n,{n:function(){return l},z:function(){return s}});var t=r(340),a=r(2239),i=r(5906),o=(0,a.Z)(i.j$.map((function(e){return"@media (min-width: ".concat(e,"px)")}))),l=(0,t.Z)("svg",{target:"eoy81hv1"})("fill:transparent;stroke:",(function(e){return e.theme.componentPrimary}),";@keyframes scale-up-hor-left{0%{-webkit-transform:scaleX(0.4);transform:scaleX(0.4);-webkit-transform-origin:0% 0%;transform-origin:0% 0%;}100%{-webkit-transform:scaleX(1);transform:scaleX(1);-webkit-transform-origin:0% 0%;transform-origin:0% 0%;}}",o({width:["18px","18px","20px","20px"],height:["18px","18px","20px","20px"]}),";"),s=(0,t.Z)("button",{target:"eoy81hv0"})("display:flex;align-items:center;justify-content:center;column-gap:0.8125rem;width:",(function(e){return e.width||""}),";margin-top:0.5rem;background-color:",(function(e){return e.theme.componentAccent}),";box-shadow:4px 2px 16px ",(function(e){return e.theme.btnShadow}),";border-radius:16px;border:none;font-family:'Inter';font-style:normal;font-weight:600;font-size:0.875rem;line-height:1.125rem;letter-spacing:-0.02em;color:",(function(e){return e.theme.componentPrimary}),";&:hover ",l,"{animation:scale-up-hor-left 0.7s cubic-bezier(0.39, 0.575, 0.565, 1) both;}function:",(function(e){return e.function||!1}),";padding:",(function(e){return e.padding?e.padding:o({padding:["add"===e.function?"16px 62px":"save"===e.function?"14px 50px":"14px 28px","add"===e.function?"16px 62px":"save"===e.function?"14px 50px":"14px 28px","add"===e.function?"16px 62px":"save"===e.function?"14px 84px":"16px 24px","add"===e.function?"16px 62px":"save"===e.function?"14px 84px":"16px 23px"]})}),";")},5655:function(e,n,r){r.d(n,{Oj:function(){return i},cS:function(){return t},hS:function(){return a}});var t=new RegExp("^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$"),a=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/,i=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/}}]);
//# sourceMappingURL=883.7442a80a.chunk.js.map