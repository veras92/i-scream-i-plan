"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[415],{885:function(e,n,r){r(2791);n.Z=r.p+"static/media/sprite.631e29e968f846b4a9018fa0b71a17d8.svg"},7415:function(e,n,r){r.r(n),r.d(n,{default:function(){return G}});var t,a,i,o,l,s,d=r(1413),u=r(5861),c=r(9439),p=r(4687),h=r.n(p),m=r(2791),f=r(5048),x=r(3541),g=r(3602),y=r(1134),b=r(4695),Z=r(6971),v=r(3216),j=r(5655),w=r(6727),k=w.Ry().shape({name:w.Z_().required("This field is required").matches(j.cS,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").max(16,"Name may contain only 16 characters"),phone:w.Z_().matches(j.Oj,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"),birthday:w.hT("Invalid date format").transform((function(e,n){return(0,Z.default)(n)?n:(0,v.default)(n,"yyyy-MM-dd",new Date)})).max(new Date,"Future date not allowed"),skype:w.Z_().max(16,"Skype may contain only 16 characters"),email:w.Z_().email("Invalid email format").required("This field is required"),userImgUrl:w.nK()}),I=function(e){return e.auth.isLoggedIn},F=function(e){return e.auth.user},N=function(){var e=(0,f.v9)(I),n=(0,f.v9)(F);return{isLoggedIn:e,name:n.name,email:n.email,phone:n.phone,birthday:n.birthday,skype:n.skype,userImgUrl:n.userImgUrl}},S=function(e){var n=e.getFullYear(),r=e.getMonth(),t=e.getDate();return"".concat(n,"-").concat((r+1).toString().padStart(2,"0"),"-").concat(t.toString().padStart(2,"0"))},q=r(5273),C=[{inputName:"name",type:"text",id:(0,q.x0)(),label:"User Name",required:!0,placeholder:"Enter your name"},{inputName:"phone",type:"tel",id:(0,q.x0)(),label:"Phone",required:!1,placeholder:"Enter phone"},{inputName:"birthday",type:"date",id:(0,q.x0)(),label:"Birthday",required:!1,placeholder:"DD/MM/YYYY"},{inputName:"skype",type:"string",id:(0,q.x0)(),label:"Skype",required:!1,placeholder:"Enter skype"},{inputName:"email",type:"email",id:(0,q.x0)(),label:"Email",required:!0,placeholder:"Enter email"}],U={inputName:"userImgUrl",type:"file",id:(0,q.x0)(),label:"",required:!1,placeholder:""},M=r(4925),z=r(885),D=r(168),_=r(4709),E=_.Z.svg(t||(t=(0,D.Z)(["\n  fill: transparent;\n  stroke: var(--main-blue-color);\n"]))),A=_.Z.label(a||(a=(0,D.Z)(["\n  position: relative;\n  display: block;\n  width: 124px;\n  height: 124px;\n  margin-bottom: 20px;\n"]))),B=_.Z.input(i||(i=(0,D.Z)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  border: 0;\n  padding: 0;\n\n  white-space: nowrap;\n  clip-path: inset(100%);\n  clip: rect(0 0 0 0);\n  overflow: hidden;\n"]))),R=r(5970),Y=r(184),T=["onChange"],L=function(e){var n=e.userName,r=e.control,t=e.errors,a=e.inputName,i=e.type,o=e.id,l=N().userImgUrl,s=(0,m.useState)(l),u=(0,c.Z)(s,2),p=u[0],h=u[1];return(0,Y.jsxs)("div",{children:[(0,Y.jsx)(A,{htmlFor:o,children:p?(0,Y.jsx)("img",{src:p,alt:"user_photo"}):(0,Y.jsx)("p",{children:(0,Y.jsx)(E,{children:(0,Y.jsx)("use",{href:z.Z+"#icon-user-check-01"})})})}),(0,Y.jsx)(y.Qr,{control:r,name:a,render:function(e){var n=e.field,r=n.onChange,t=(0,M.Z)(n,T);return(0,Y.jsx)(B,(0,d.Z)((0,d.Z)({id:o,type:i,accept:"image/*,.png,.jpg"},t),{},{onChange:function(e){return function(e,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){n(r.result)}}(e.target.files[0],h),r(e)}}))}}),(0,Y.jsx)(R.B,{errors:t,name:"userImgUrl"}),(0,Y.jsx)("h3",{children:n}),(0,Y.jsx)("p",{children:"User"})]})},O=r(5541),$=r(9513),P=r.n($),Q=(r(8639),(0,_.Z)(P())(o||(o=(0,D.Z)([""])))),J=_.Z.label(l||(l=(0,D.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n\n  font-family: 'Inter';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n\n  color: #111111;\n"]))),K=_.Z.input(s||(s=(0,D.Z)(["\n  background: #ffffff;\n  outline: none;\n  border: 1px solid rgba(220, 227, 229, 0.6);\n  border-radius: 8px;\n\n  padding: 0.875rem;\n\n  width: 100%;\n\n  &::placeholder {\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 18px;\n\n    color: #dce3e5;\n  }\n"]))),V=function(e){var n=e.control,r=e.inputName,t=e.label,a=e.id,i=e.placeholder,o=e.errors;return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(J,{htmlFor:a,children:t}),(0,Y.jsx)(y.Qr,{control:n,name:r,render:function(e){var n=e.field,r=n.onChange,t=n.onBlur,o=n.value;return(0,Y.jsx)(Q,{id:a,placeholderText:i,onChange:r,onBlur:t,selected:o,dateFormat:"dd/MM/yyyy",customInput:(0,Y.jsx)(K,{})})}}),(0,Y.jsx)(R.B,{errors:o,name:r})]})},X=function(){var e=(0,m.useRef)(null),n=N(),r=n.name,t=n.email,a=n.phone,i=n.birthday,o=n.skype,l=n.userImgUrl,s=(0,g.ec)(),p=(0,c.Z)(s,1)[0],Z=(0,f.I0)(),v=(0,y.cI)({resolver:(0,b.X)(k),defaultValues:{name:r,email:t,phone:a,birthday:i||new Date,skype:o,userImgUrl:l}}),j=v.register,w=v.control,I=v.handleSubmit,F=v.reset,q=v.formState,M=q.errors,z=q.isDirty,D=function(){var e=(0,u.Z)(h().mark((function e(n){var r,t,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=S(n.birthday),t=(0,d.Z)((0,d.Z)({},n),{},{birthday:r}),e.prev=2,e.next=5,p(t).unwrap();case 5:a=e.sent,Z((0,x.vO)(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:return e.prev=12,F(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(n){return e.apply(this,arguments)}}();return(0,Y.jsxs)("form",{ref:e,onSubmit:I(D),autoComplete:"false",children:[(0,Y.jsx)(L,(0,d.Z)({userName:r,control:w,errors:M},U)),(0,Y.jsx)("div",{children:C.map((function(e){return"date"!==e.type?(0,Y.jsx)(O.M,(0,d.Z)((0,d.Z)({},e),{},{register:j,errors:M}),e.id):(0,Y.jsx)(V,(0,d.Z)((0,d.Z)({},e),{},{control:w,errors:M}),e.id)}))}),(0,Y.jsx)("button",{type:"submit",disabled:!z,children:"Save changes"})]})};function G(){return(0,Y.jsx)("div",{children:(0,Y.jsx)(X,{})})}},5541:function(e,n,r){r.d(n,{M:function(){return p}});var t,a,i=r(1413),o=r(5970),l=r(168),s=r(4709),d=s.Z.label(t||(t=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n\n  font-family: 'Inter';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n\n  color: #111111;\n"]))),u=s.Z.input(a||(a=(0,l.Z)(["\n  background: #FFFFFF;\n  outline: none;\n  border: 1px solid rgba(220, 227, 229, 0.6);\n  border-radius: 8px;\n\n  padding: 0.875rem;\n\n  width: 100%;\n\n  &::placeholder {\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 18px;\n\n    color: #DCE3E5;\n  }\n"]))),c=r(184),p=function(e){var n=e.id,r=e.inputName,t=e.type,a=e.placeholder,l=e.label,s=e.register,p=e.required,h=e.errors;return(0,c.jsxs)("div",{children:[(0,c.jsx)(d,{htmlFor:n,children:l}),(0,c.jsx)(u,(0,i.Z)({id:n,type:t,placeholder:a},s(r,{required:p}))),(0,c.jsx)(o.B,{errors:h,name:r})]})}},5655:function(e,n,r){r.d(n,{Oj:function(){return i},cS:function(){return t},hS:function(){return a}});var t=new RegExp("^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$"),a=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/,i=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/}}]);
//# sourceMappingURL=415.edc1da2e.chunk.js.map